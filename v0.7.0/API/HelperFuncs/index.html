<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>HelperFuncs · CalibrateEDMF.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="CalibrateEDMF.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CalibrateEDMF.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation instructions</a></li><li><a class="tocitem" href="../../getting_started/">Getting started</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../ReferenceModels/">ReferenceModels</a></li><li><a class="tocitem" href="../ReferenceStats/">ReferenceStats</a></li><li><a class="tocitem" href="../Pipeline/">Pipeline</a></li><li><a class="tocitem" href="../TurbulenceConvectionUtils/">TurbulenceConvectionUtils</a></li><li><a class="tocitem" href="../KalmanProcessUtils/">KalmanProcessUtils</a></li><li><a class="tocitem" href="../DistributionUtils/">DistributionUtils</a></li><li><a class="tocitem" href="../LESUtils/">LESUtils</a></li><li class="is-active"><a class="tocitem" href>HelperFuncs</a></li></ul></li><li><a class="tocitem" href="../../tc_runner/">Running TC.jl with optimal parameters</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><a class="tocitem" href="../../References/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>HelperFuncs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>HelperFuncs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/main/docs/src/API/HelperFuncs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="HelperFuncs"><a class="docs-heading-anchor" href="#HelperFuncs">HelperFuncs</a><a id="HelperFuncs-1"></a><a class="docs-heading-anchor-permalink" href="#HelperFuncs" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.ParameterMap" href="#CalibrateEDMF.HelperFuncs.ParameterMap"><code>CalibrateEDMF.HelperFuncs.ParameterMap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ParameterMap</code></pre><p><code>ParameterMap</code> is a struct that defines relations between different parameters.</p><p>The dictionary <code>mapping</code> specifies a map from any parameter that is not being  calibrated to either a calibrated parameter, or a number.  If another parameter name is specified, the samples from that parameter&#39;s distribution is used as the given parameter&#39;s value throughout calibration, effectively defining an equivalence between the two parameters. If a number is specified, the parameter will be assigned that constant value throughout  the calibration process.</p><p>These mappings are primarily useful for vector parameters, where we can choose to only calibrate specific components of a vector parameter, or setting different components of a vector equal to other components of the vector (or to other parameters). Note, vector  components are specified by <code>&lt;name&gt;_{&lt;index&gt;}</code>, e.g. <code>general_stochastic_ent_params_{3}</code>  for the third component of the vector parameter <code>general_stochastic_ent_params</code>.</p><p><strong>Examples</strong></p><p>Suppose we have the parameter vector <code>param</code> with five components. We can choose to only calibrate the first and third component, fixing the fourth component to 3.0, and also specifying that the first and second component should be equal, in the following way:</p><pre><code class="language-julia-repl hljs">julia&gt; param_map = ParameterMap(
    mapping = Dict(
        &quot;param_{2}&quot; =&gt; &quot;param_{1}&quot;,
        &quot;param_{4}&quot; =&gt; 3.0,
    ),
)</code></pre><p>The parameter map should be specified in the function <code>get_prior_config()</code> in <code>config.jl</code>,</p><pre><code class="language-julia hljs"># function get_prior_config()  
config = Dict()

config[&quot;constraints&quot;] = Dict(
    &quot;param_{1}&quot; =&gt; [bounded(1.0, 2.0)],
    &quot;param_{3} =&gt; [bounded(3.0, 4.0)],
)

config[&quot;param_map&quot;] = CalibrateEDMF.HelperFuncs.ParameterMap(
    mapping = Dict(
        &quot;param_{2}&quot; =&gt; &quot;param_{1}&quot;,
        &quot;param_{4}&quot; =&gt; 3.0,
    ),
)

# ...
# end</code></pre><p>Notice that the fifth component was neither specified in the prior, nor the mapping. This will fix that component to its default value as specified in the namelist (i.e. in <code>TurbulenceConvection.jl</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L49-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.do_nothing_param_map" href="#CalibrateEDMF.HelperFuncs.do_nothing_param_map"><code>CalibrateEDMF.HelperFuncs.do_nothing_param_map</code></a> — <span class="docstring-category">Function</span></header><section><div><p>do-nothing param_map.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.expand_params" href="#CalibrateEDMF.HelperFuncs.expand_params"><code>CalibrateEDMF.HelperFuncs.expand_params</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expand_params(u_names_calib, u_calib, param_map, namelist)</code></pre><p>Expand a list of parameters using a param_map and a namelist.</p><p>Expand a list of parameters and its corresponding values using the <a href="#CalibrateEDMF.HelperFuncs.ParameterMap"><code>ParameterMap</code></a>.  If <code>u_names_calib</code> contain vector components, fetch all unspecified components  from the <code>namelist</code> so that for any vector component in <code>u_names_calib</code>,  all other components of that vector are also specified.</p><p><strong>Arguments</strong></p><ul><li><code>u_names_calib</code>: A list of parameter names that are being calibrated</li><li><code>u_calib</code>: A list of values associated with the parameter names</li><li><code>param_map</code>: A <a href="#CalibrateEDMF.HelperFuncs.ParameterMap"><code>ParameterMap</code></a> specifying a parameter mapping.</li><li><code>namelist</code>: A dictionary of default parameter values.</li></ul><p>Returns a tuple of two vectors defining parameter names and parameter values, possibly expanded relative to the input arguments to define all components of vector parameters or from relations specified by the <a href="#CalibrateEDMF.HelperFuncs.ParameterMap"><code>ParameterMap</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L112-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.namelist_subdict_by_key" href="#CalibrateEDMF.HelperFuncs.namelist_subdict_by_key"><code>CalibrateEDMF.HelperFuncs.namelist_subdict_by_key</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">namelist_subdict_by_key(namelist, param_name) -&gt; subdict</code></pre><p>Return the subdict of <code>namelist</code> that has <code>param_name</code> as a key.</p><p>The namelist is defined in TurbulenceConvection.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L188-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.vertical_interpolation" href="#CalibrateEDMF.HelperFuncs.vertical_interpolation"><code>CalibrateEDMF.HelperFuncs.vertical_interpolation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vertical_interpolation(
    var_name::String,
    filename::String,
    z_scm::Vector{FT};
) where {FT &lt;: AbstractFloat}</code></pre><p>Returns the netcdf variable <code>var_name</code> interpolated to heights <code>z_scm</code>.</p><p>Inputs:</p><ul><li><code>var_name</code> :: Name of variable in the netcdf dataset.</li><li><code>filename</code> :: nc filename</li><li><code>z_scm</code> :: Vertical coordinate vector onto which var_name is interpolated.</li></ul><p>Output:</p><ul><li>The interpolated vector.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L246-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.nc_fetch_interpolate" href="#CalibrateEDMF.HelperFuncs.nc_fetch_interpolate"><code>CalibrateEDMF.HelperFuncs.nc_fetch_interpolate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nc_fetch_interpolate(var_name::String, filename::String, z_scm::OptVec{&lt;:Real})</code></pre><p>Returns the netcdf variable <code>var_name</code>, possibly interpolated to heights <code>z_scm</code>.</p><p>Inputs:</p><ul><li><code>var_name</code> :: Name of variable in the netcdf dataset.</li><li><code>filename</code> :: nc filename</li><li><code>z_scm</code> :: Vertical coordinate vector onto which var_name is interpolated.</li></ul><p>Output:</p><ul><li>The interpolated vector.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L280-L291">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.fetch_interpolate_transform" href="#CalibrateEDMF.HelperFuncs.fetch_interpolate_transform"><code>CalibrateEDMF.HelperFuncs.fetch_interpolate_transform</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fetch_interpolate_transform(var_name::String, filename::String, z_scm::OptVec{&lt;:Real})</code></pre><p>Returns the netcdf variable <code>var_name</code>, possibly interpolated to heights <code>z_scm</code>. If the variable needs to be transformed to be equivalent to an SCM variable, applies the transformation as well.</p><p>Inputs:</p><ul><li><code>var_name</code> :: Name of variable in the netcdf dataset.</li><li><code>filename</code> :: nc filename</li><li><code>z_scm</code> :: Vertical coordinate vector onto which var_name is interpolated.</li></ul><p>Output:</p><ul><li>The interpolated and transformed vector.</li></ul><p><strong>PyCLES variables that require transformations:</strong></p><ul><li><p>PyCLES diagnostic vertical fluxes (defined in <a href="https://github.com/CliMA/pycles/blob/master/AuxiliaryStatistics.pyx#L845">AuxiliaryStatistics.pyx</a>) are specific quantities,   not multiplied by density, and written at cell centers. These include all <code>resolved_z_flux_(...)</code> and   <code>sgs_z_flux_(...)</code> diagnostics. For instance the <code>resolved_z_flux_theta</code> is <span>$\langle{w^*\theta^*}\rangle$</span>.   In contrast, all <code>massflux_(...)</code>, <code>diffusive_flux_(...)</code> and <code>total_flux_(...)</code> outputs from   TC.jl are already multiplied by density and written at cell faces; e.g. <code>total_flux_h</code> is <span>$\rho\langle{w^*\theta^*}\rangle$</span>.   The location mismatch is handled through <code>is_face_variable</code> and interpolation. Another difference   is that the <code>total_flux_(...)</code> in TC.jl simulations includes the full flux, whereas the PyCLES <code>resolved</code>   definitions only include the resolved flux. We must add the <code>sgs_z_flux_(...)</code> component here.</p></li><li><p>PyCLES prognostic vertical fluxes (defined in <a href="https://github.com/CliMA/pycles/blob/master/ScalarAdvection.pyx#L136">ScalarAdvection.pyx</a>,   <a href="https://github.com/CliMA/pycles/blob/master/ScalarDiffusion.pyx#L174">ScalarDiffusion.pyx</a>, MomentumAdvection.pyx,   MomentumDiffusion.pyx) are defined at cell centers and have already been multiplied by density. They are computed   at cell faces in the low-level functions in <a href="https://github.com/CliMA/pycles/blob/master/Csrc/scalar_diffusion.h#L31"><code>scalar_advection.h</code></a> and <code>scalar_diffusion.h</code>,   and then <a href="https://github.com/CliMA/pycles/blob/master/ScalarDiffusion.pyx#L173">interpolated</a>   in the <code>.pyx</code> files before they are written to file. These include all   <code>(...)_flux_z</code> and <code>(...)__sgs_flux_z</code> fluxes. In contrast, flux diagnostics from TC.jl are defined   at cell faces. This mismatch is handled through <code>is_face_variable</code>. Another difference is that the <code>total_flux_(...)</code>   in TC.jl simulations includes the full flux, whereas the PyCLES <code>(...)_flux_z</code> definition only includes the resolved   flux. We must add the <code>(...)__sgs_flux_z</code> component here.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L300-L335">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.get_height" href="#CalibrateEDMF.HelperFuncs.get_height"><code>CalibrateEDMF.HelperFuncs.get_height</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_height(filename::String; get_faces::Bool = false)</code></pre><p>Returns the vertical cell centers or faces of the given configuration.</p><p>Inputs:</p><ul><li>filename :: nc filename.</li><li>get_faces :: If true, returns the coordinates of cell faces. Otherwise,  returns the coordinates of cell centers.</li></ul><p>Output:</p><ul><li>z: Vertical level coordinates.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L364-L375">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.normalize_profile" href="#CalibrateEDMF.HelperFuncs.normalize_profile"><code>CalibrateEDMF.HelperFuncs.normalize_profile</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">normalize_profile(
    y::Array{FT},
    norm_vec::Array{FT},
    prof_dof::IT,
    prof_indices::OptVec{Bool} = nothing,
) where {FT &lt;: Real, IT &lt;: Integer}</code></pre><p>Perform normalization of the aggregate observation vector <code>y</code> using separate normalization constants for each variable, contained in <code>norm_vec</code>.</p><p>Inputs:</p><ul><li><code>y</code> :: Aggregate observation vector.</li><li><code>norm_vec</code> :: Vector of squares of normalization factors.</li><li><code>prof_dof</code> :: Degrees of freedom of vertical profiles contained in <code>y</code>.</li><li><code>prof_indices</code> :: Vector of booleans specifying which variables are profiles, and which  are timeseries.</li></ul><p>Output:</p><ul><li>The normalized aggregate observation vector.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L384-L403">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.nc_fetch" href="#CalibrateEDMF.HelperFuncs.nc_fetch"><code>CalibrateEDMF.HelperFuncs.nc_fetch</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nc_fetch(filename::String, var_names::NTuple{N, Tuple}) where {N}
nc_fetch(filename::String, var_name::String)</code></pre><p>Returns the data for a variable <code>var_name</code> (or tuple of strings, <code>varnames</code>), looping through all dataset groups.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L422-L429">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.is_face_variable" href="#CalibrateEDMF.HelperFuncs.is_face_variable"><code>CalibrateEDMF.HelperFuncs.is_face_variable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_face_variable(filename::String, var_name::String)</code></pre><p>A <code>Bool</code> indicating whether the given variable is defined in a face, or not (cell center).</p><p>TurbulenceConvection data are consistent, meaning that variables at cell faces (resp. centers) have as dim <code>zf</code> (resp., <code>zc</code>).</p><p>PyCLES variables are inconsistent. All variables have as a dim <code>z</code>, the cell face locations, but most of them (except for the statistical moments of w) are actually defined at cell centers (<code>z_half</code>). </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L449-L461">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.get_stats_path" href="#CalibrateEDMF.HelperFuncs.get_stats_path"><code>CalibrateEDMF.HelperFuncs.get_stats_path</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_stats_path(dir)</code></pre><p>Given directory to standard LES or SCM output, fetch path to stats file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L504-L508">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.compute_mse" href="#CalibrateEDMF.HelperFuncs.compute_mse"><code>CalibrateEDMF.HelperFuncs.compute_mse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">compute_mse(g_arr::Vector{Vector{FT}}, y::Vector{FT})::Vector{FT}
compute_mse(g_mat::Matrix{FT}, y::Vector{FT})::Vector{FT}</code></pre><p>Computes the L2-norm error of each vector, column or row of an array with respect to a vector y.</p><p>Output:</p><ul><li>The mse for each ensemble member.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L547-L556">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.penalize_nan" href="#CalibrateEDMF.HelperFuncs.penalize_nan"><code>CalibrateEDMF.HelperFuncs.penalize_nan</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">penalize_nan(arr::Vector{FT}; penalization::FT = 1.0e5) where {FT &lt;: AbstractFloat}</code></pre><p>Substitutes all NaN entries in <code>arr</code> by a penalization factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L576-L580">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.serialize_struct" href="#CalibrateEDMF.HelperFuncs.serialize_struct"><code>CalibrateEDMF.HelperFuncs.serialize_struct</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">serialize_struct(s::T) where {T}</code></pre><p>Serializes the given structure as a dictionary to allow storage in JLD2 format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L585-L590">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.deserialize_struct" href="#CalibrateEDMF.HelperFuncs.deserialize_struct"><code>CalibrateEDMF.HelperFuncs.deserialize_struct</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">deserialize_struct(dict::Dict{String}, ::Type{T})</code></pre><p>Deserializes the given dictionary and constructs a struct of the given type with the dictionary values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L597-L602">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.jld2_path" href="#CalibrateEDMF.HelperFuncs.jld2_path"><code>CalibrateEDMF.HelperFuncs.jld2_path</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jld2_path(root::String, identifier::Union{String, Int}, prefix::String)</code></pre><p>Generates a JLD2 path, given a root path, an identifier and a prefix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L605-L609">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.write_versions" href="#CalibrateEDMF.HelperFuncs.write_versions"><code>CalibrateEDMF.HelperFuncs.write_versions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_versions(versions, iteration; outdir_path = pwd())</code></pre><p>Writes versions associated with an EnsembleKalmanProcess iteration to a text file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L621-L625">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.get_entry" href="#CalibrateEDMF.HelperFuncs.get_entry"><code>CalibrateEDMF.HelperFuncs.get_entry</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_entry(dict, key, default)</code></pre><p>Calls <code>get</code> but logs whether the default is used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L640-L644">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.change_entry!" href="#CalibrateEDMF.HelperFuncs.change_entry!"><code>CalibrateEDMF.HelperFuncs.change_entry!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">change_entry!(dict, keys_and_value)</code></pre><p>Changes the entry of a nested dictionary, given a tuple of all its keys and the new value</p><p>Inputs:</p><ul><li><code>dict</code>           :: Parent dictionary with an arbitrary number of nested dictionaries.</li><li><code>keys_and_value</code> :: Tuple of keys from the parent dictionary to the entry to be modified,                   and the value to use to modify it.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L654-L663">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.update_namelist!" href="#CalibrateEDMF.HelperFuncs.update_namelist!"><code>CalibrateEDMF.HelperFuncs.update_namelist!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_namelist!(namelist, namelist_args)</code></pre><p>Update <code>namelist</code> with arguments given by <code>namelist_args</code>.</p><p><code>namelist_args</code> is a <code>Vector</code> of <code>Tuple</code>s, where each <code>Tuple</code> specifies the keys to traverse the <code>namelist</code>, and the last element of the <code>Tuple</code> is the value to be set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L214-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CalibrateEDMF.HelperFuncs.merge_namelist_args" href="#CalibrateEDMF.HelperFuncs.merge_namelist_args"><code>CalibrateEDMF.HelperFuncs.merge_namelist_args</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">merge_namelist_args(args, overwrite_args)</code></pre><p>Combine two lists of namelist arguments by joining the lists, in order.</p><p>This method is intended to be used in the context of case-specific- and global namelist<em>args. In that case, `args = global</em>args<code>and</code>overwrite<em>args = case</em>args`.</p><p>Either argument can be <code>nothing</code>, in which case the other argument is returned; if both are <code>nothing</code>, return <code>nothing</code>.</p><p>See also <a href="#CalibrateEDMF.HelperFuncs.update_namelist!"><code>update_namelist!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CalibrateEDMF.jl/blob/a8c42b8c6220b2b612217f1e642e00c5bd25cbec/src/HelperFuncs.jl#L229-L240">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../LESUtils/">« LESUtils</a><a class="docs-footer-nextpage" href="../../tc_runner/">Running TC.jl with optimal parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.21 on <span class="colophon-date" title="Sunday 24 July 2022 03:19">Sunday 24 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
